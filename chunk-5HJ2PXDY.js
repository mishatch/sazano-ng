import{q as l,r as i}from"./chunk-GBB3INW7.js";import{Z as a,ca as n,k as s}from"./chunk-VVLVZ75C.js";var h=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl="https://sazanowine-api-dev.azurewebsites.net/api/identity",this.userInfoSource=new s(null),this.userInfo$=this.userInfoSource.asObservable()}updateUserInfo(t){let o=this.getAuthHeaders();return this.http.patch(`${this.apiUrl}/updateUser`,t,{headers:o})}setUserInfo(t){this.userInfoSource.next(t)}clearUserInfo(){this.userInfoSource.next(null)}getAuthHeaders(){let t=localStorage.getItem("token")||"";return new l({Authorization:`Bearer ${t}`})}};e.\u0275fac=function(o){return new(o||e)(n(i))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var p=(()=>{let e=class e{getUserData(){return!localStorage.getItem("userName")||!localStorage.getItem("userSurname")||!localStorage.getItem("userPhone")||!localStorage.getItem("userEmail")?null:{userName:localStorage.getItem("userName"),userSurname:localStorage.getItem("userSurname"),userPhone:localStorage.getItem("userPhone"),userEmail:localStorage.getItem("userEmail")}}setUserData(t){localStorage.setItem("userName",t.name),localStorage.setItem("userSurname",t.surName),localStorage.setItem("userPhone",t.phoneNumber),localStorage.setItem("userEmail",t.email)}clearUserData(){localStorage.removeItem("userName"),localStorage.removeItem("userSurname"),localStorage.removeItem("userPhone"),localStorage.removeItem("userEmail")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();export{h as a,p as b};
