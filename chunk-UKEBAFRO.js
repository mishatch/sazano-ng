import{a as j}from"./chunk-24W4KFJV.js";import{m as L}from"./chunk-FYZXPGWZ.js";import{a as W,c as I,e as B,q as F}from"./chunk-SA34UV6Y.js";import"./chunk-SHF2QPEZ.js";import{e as T,f as V}from"./chunk-H3Z4EEUF.js";import"./chunk-Y6STU5OE.js";import{Cb as M,Db as u,Eb as _,Fb as S,Ib as y,Jb as P,Kb as k,Mb as O,Oa as d,Pa as m,Sb as A,_a as f,e as C,fa as h,fb as b,gb as x,hb as v,ib as t,jb as i,lb as p,qa as s,ra as c,sb as D,tb as E}from"./chunk-FZWOQZIM.js";function $(a,l){if(a&1){let r=p();t(0,"tr",8)(1,"td"),u(2),i(),t(3,"td"),u(4),i(),t(5,"td"),u(6),i(),t(7,"td"),u(8),i(),t(9,"td")(10,"button",9),D("click",function(){let e=s(r).$implicit,o=E();return c(o.editWine(e==null?null:e.id))}),u(11,"Edit"),i()(),t(12,"td")(13,"button",10),D("click",function(){let e=s(r).$implicit,o=E(),g=M(27);return c(o.openModal(g,e==null?null:e.id))}),u(14,"Delete"),i()()()}if(a&2){let r=l.$implicit;d(2),_(r.name),d(2),_(r.vintageYear),d(2),S("",r.price," \u20BE"),d(2),_(r.stockQuantity)}}function N(a,l){if(a&1){let r=p();t(0,"div",11)(1,"h4",12),u(2,"\u10D3\u10D0\u10E0\u10EC\u10DB\u10E3\u10DC\u10D4\u10D1\u10E3\u10DA\u10D8 \u10EE\u10D0\u10E0\u10D7 \u10E0\u10DD\u10DB \u10D2\u10E1\u10E3\u10E0\u10D7 \u10E6\u10D5\u10D8\u10DC\u10D8\u10E1 \u10EC\u10D0\u10E8\u10DA\u10D0?"),i(),t(3,"button",13),D("click",function(){let e=s(r).$implicit;return c(e.dismiss("Cross click"))}),i()(),t(4,"div",14)(5,"p"),u(6,"\u10E6\u10D5\u10D8\u10DC\u10D8\u10E1 \u10D8\u10DC\u10E4\u10DD\u10E0\u10DB\u10D0\u10EA\u10D8\u10D0 \u10EC\u10D0\u10D8\u10E8\u10DA\u10D4\u10D1\u10D0 \u10DB\u10DD\u10DC\u10D0\u10EA\u10D4\u10DB\u10D7\u10D0 \u10D1\u10D0\u10D6\u10D8\u10D3\u10D0\u10DC"),i()(),t(7,"div",15)(8,"button",16),D("click",function(){let e=s(r).$implicit;return E().deleteWine(),c(e.close())}),u(9,"\u10D3\u10D8\u10D0\u10EE"),i(),t(10,"button",17),D("click",function(){let e=s(r).$implicit;return c(e.close("Close click"))}),u(11,"\u10D0\u10E0\u10D0"),i()()}}var U=(()=>{let l=class l{constructor(n,e,o){this.wineService=n,this.router=e,this.modalService=o,this.wines=[],this.searchTerm="",this.subscription=new C}ngOnInit(){this.getWines()}ngOnDestroy(){this.subscription.unsubscribe()}editWine(n){this.router.navigate(["/admin/wine/edit",n])}deleteWine(){this.wineId&&this.subscription.add(this.wineService.deleteWine(this.wineId).subscribe(()=>{this.wines=this.wines.filter(n=>n.id!==this.wineId)}))}filteredWines(){if(!this.searchTerm)return this.wines;let n=this.searchTerm.toLowerCase();return this.wines.filter(e=>e.name.toLowerCase().includes(n))}openModal(n,e){this.modalService.open(n),this.wineId=e}getWines(){this.subscription.add(this.wineService.getWines().subscribe(n=>{this.wines=n}))}};l.\u0275fac=function(e){return new(e||l)(m(j),m(T),m(L))},l.\u0275cmp=h({type:l,selectors:[["app-admin-products"]],standalone:!0,features:[O],decls:28,vars:1,consts:[["deleteModal",""],[1,"wrapper","geo-primary"],["routerLink","/admin/add-wine",1,"primary-btn"],[1,"form-group"],["type","text","placeholder","\u10EB\u10D4\u10D1\u10DC\u10D0",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-wrapper"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[1,"eng-primary"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,o){if(e&1){let g=p();t(0,"div",1)(1,"div")(2,"a",2)(3,"span"),u(4," \u10D0\u10EE\u10D0\u10DA\u10D8 \u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8\u10E1 \u10D3\u10D0\u10DB\u10D0\u10E2\u10D4\u10D1\u10D0 "),i()(),t(5,"div",3)(6,"input",4),k("ngModelChange",function(w){return s(g),P(o.searchTerm,w)||(o.searchTerm=w),c(w)}),i()()(),t(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th"),u(12,"\u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8\u10E1 \u10E1\u10D0\u10EE\u10D4\u10DA\u10DD\u10D3\u10D4\u10D1\u10D0"),i(),t(13,"th"),u(14,"\u10EC\u10D0\u10E0\u10DB\u10DD\u10D4\u10D1\u10D8\u10E1 \u10EC\u10D4\u10DA\u10D8"),i(),t(15,"th"),u(16,"\u10E4\u10D0\u10E1\u10D8"),i(),t(17,"th"),u(18,"\u10E0\u10D0\u10DD\u10D3\u10D4\u10DC\u10DD\u10D1\u10D0 \u10DB\u10D0\u10E0\u10D0\u10D2\u10E8\u10D8"),i(),t(19,"th"),u(20,"\u10E9\u10D0\u10E1\u10EC\u10DD\u10E0\u10D4\u10D1\u10D0"),i(),t(21,"th"),u(22,"\u10EC\u10D0\u10E8\u10DA\u10D0"),i()()(),t(23,"tbody"),x(24,$,15,4,"tr",8,b),i()()()(),f(26,N,12,0,"ng-template",null,0,A)}e&2&&(d(6),y("ngModel",o.searchTerm),d(18),v(o.filteredWines()))},dependencies:[V,F,W,I,B],styles:[".wrapper[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:80px 20px;min-height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px;font-size:14px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{width:100%;display:flex;gap:20px;flex-direction:column;align-items:start}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   input[_ngcontent-%COMP%]{border:1px solid black}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   input[_ngcontent-%COMP%]{width:300px}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{width:100%}"]});let a=l;return a})();export{U as AdminProductsComponent};
