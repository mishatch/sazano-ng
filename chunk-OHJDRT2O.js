import{a as M}from"./chunk-V3EBXJNT.js";import{m as k}from"./chunk-FYZXPGWZ.js";import{a as F}from"./chunk-GZLBYBNT.js";import"./chunk-SA34UV6Y.js";import"./chunk-SHF2QPEZ.js";import{m as A}from"./chunk-Y6STU5OE.js";import{c as B,d as T}from"./chunk-AKL4WKOJ.js";import{Db as r,Eb as p,Fb as S,Mb as I,Oa as a,Pa as _,Pb as l,Qb as c,Rb as y,_a as C,e as f,eb as v,fa as h,fb as b,gb as O,hb as g,ib as t,jb as i,lb as w,qa as D,ra as E,sb as x,tb as m}from"./chunk-FZWOQZIM.js";function P(n,u){n&1&&r(0," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1 ")}function $(n,u){if(n&1){let d=w();t(0,"tr")(1,"td",3),r(2),l(3,"date"),i(),t(4,"td",4),r(5," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 "),i(),t(6,"td",3),r(7),i(),t(8,"td")(9,"button",5),x("click",function(){let e=D(d).$implicit,s=m(2);return E(s.viewOrderDetails(e))}),t(10,"span"),r(11),l(12,"translate"),i()()(),t(13,"td")(14,"button",5),x("click",function(){let e=D(d).$implicit,s=m(2);return E(s.changeOrderStatus(e.id))}),t(15,"span"),r(16," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10DA\u10D0\u10D3 \u10DB\u10DD\u10DC\u10D8\u10E8\u10D5\u10DC\u10D0 "),i()()()()}if(n&2){let d=u.$implicit;a(2),p(y(3,3,d.orderDate,"M/d/yy")),a(5),S(" ",d.orderPrice," \u20BE "),a(4),S(" ",c(12,6,"orders.order-details")," ")}}function j(n,u){if(n&1&&(t(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),r(4),l(5,"translate"),i(),t(6,"th",2),r(7),l(8,"translate"),i(),t(9,"th",2),r(10),l(11,"translate"),i(),t(12,"th",2),r(13),l(14,"translate"),i(),t(15,"th",2),r(16,"\u10E1\u10E2\u10D0\u10E2\u10E3\u10E1\u10D8\u10E1 \u10E8\u10D4\u10EA\u10D5\u10DA\u10D0"),i()()(),t(17,"tbody"),O(18,$,17,8,"tr",null,b),i()()),n&2){let d=m();a(4),p(c(5,4,"orders.order-date")),a(3),p(c(8,6,"orders.order-status")),a(3),p(c(11,8,"orders.order-total")),a(3),p(c(14,10,"orders.order-details")),a(5),g(d.completedOrders)}}var L=(()=>{let u=class u{constructor(o,e){this.orderService=o,this.modalService=e,this.completedOrders=[],this.subscription=new f}ngOnInit(){this.getSentOrders()}ngOnDestroy(){this.subscription.unsubscribe()}viewOrderDetails(o){let e=this.modalService.open(M,{centered:!0});e.componentInstance.order=o}changeOrderStatus(o){let s={status:"Pending"};this.subscription.add(this.orderService.updateOrderStatus(o,s).subscribe(()=>{this.getSentOrders()},V=>{console.log("Error updating order status:",V)}))}getSentOrders(){this.subscription.add(this.orderService.orders$.subscribe(o=>{this.completedOrders=o.filter(e=>e.status==="Sent")}))}};u.\u0275fac=function(e){return new(e||u)(_(F),_(k))},u.\u0275cmp=h({type:u,selectors:[["app-completed-orders"]],standalone:!0,features:[I],decls:5,vars:1,consts:[[1,"wrapper"],[1,"table","table-striped"],["scope","col"],[1,"align-middle"],[1,"align-middle","text-success"],[1,"primary-btn",3,"click"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"h5"),r(2," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 "),i(),C(3,P,1,0)(4,j,20,12,"table",1),i()),e&2&&(a(3),v(s.completedOrders.length===0?3:4))},dependencies:[A,T,B]});let n=u;return n})();export{L as CompletedOrdersComponent};
