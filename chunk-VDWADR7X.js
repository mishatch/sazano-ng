import{a as $}from"./chunk-24W4KFJV.js";import{m as j}from"./chunk-FYZXPGWZ.js";import{a as B,c as I,e as F,q as L}from"./chunk-SA34UV6Y.js";import"./chunk-SHF2QPEZ.js";import{e as V,f as W}from"./chunk-H3Z4EEUF.js";import"./chunk-Y6STU5OE.js";import{Cb as S,Db as u,Eb as E,Fb as P,Ib as y,Jb as k,Kb as O,Mb as A,Oa as c,Pa as p,Sb as T,_a as f,e as w,eb as b,fa as h,fb as x,gb as v,hb as M,ib as t,jb as i,lb as _,qa as d,ra as s,sb as D,tb as m}from"./chunk-FZWOQZIM.js";function N(r,l){r&1&&(t(0,"div",6),u(1,"\u10E6\u10D5\u10D8\u10DC\u10DD\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10DB\u10DD\u10D8\u10EB\u10D4\u10D1\u10DC\u10D0"),i())}function R(r,l){if(r&1){let o=_();t(0,"tr",9)(1,"td"),u(2),i(),t(3,"td"),u(4),i(),t(5,"td"),u(6),i(),t(7,"td"),u(8),i(),t(9,"td")(10,"button",10),D("click",function(){let e=d(o).$implicit,a=m(2);return s(a.editWine(e==null?null:e.id))}),u(11,"Edit"),i()(),t(12,"td")(13,"button",11),D("click",function(){let e=d(o).$implicit,a=m(2),C=S(11);return s(a.openModal(C,e==null?null:e.id))}),u(14,"Delete"),i()()()}if(r&2){let o=l.$implicit;c(2),E(o.name),c(2),E(o.vintageYear),c(2),P("",o.price," \u20BE"),c(2),E(o.stockQuantity)}}function Y(r,l){if(r&1&&(t(0,"table",7)(1,"thead",8)(2,"tr")(3,"th"),u(4,"\u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8\u10E1 \u10E1\u10D0\u10EE\u10D4\u10DA\u10DD\u10D3\u10D4\u10D1\u10D0"),i(),t(5,"th"),u(6,"\u10EC\u10D0\u10E0\u10DB\u10DD\u10D4\u10D1\u10D8\u10E1 \u10EC\u10D4\u10DA\u10D8"),i(),t(7,"th"),u(8,"\u10E4\u10D0\u10E1\u10D8"),i(),t(9,"th"),u(10,"\u10E0\u10D0\u10DD\u10D3\u10D4\u10DC\u10DD\u10D1\u10D0 \u10DB\u10D0\u10E0\u10D0\u10D2\u10E8\u10D8"),i(),t(11,"th"),u(12,"\u10E9\u10D0\u10E1\u10EC\u10DD\u10E0\u10D4\u10D1\u10D0"),i(),t(13,"th"),u(14,"\u10EC\u10D0\u10E8\u10DA\u10D0"),i()()(),t(15,"tbody"),v(16,R,15,4,"tr",9,x),i()()),r&2){let o=m();c(16),M(o.filteredWines())}}function z(r,l){if(r&1){let o=_();t(0,"div",12)(1,"h4",13),u(2,"\u10D3\u10D0\u10E0\u10EC\u10DB\u10E3\u10DC\u10D4\u10D1\u10E3\u10DA\u10D8 \u10EE\u10D0\u10E0\u10D7 \u10E0\u10DD\u10DB \u10D2\u10E1\u10E3\u10E0\u10D7 \u10E6\u10D5\u10D8\u10DC\u10D8\u10E1 \u10EC\u10D0\u10E8\u10DA\u10D0?"),i(),t(3,"button",14),D("click",function(){let e=d(o).$implicit;return s(e.dismiss("Cross click"))}),i()(),t(4,"div",15)(5,"p"),u(6,"\u10E6\u10D5\u10D8\u10DC\u10D8\u10E1 \u10D8\u10DC\u10E4\u10DD\u10E0\u10DB\u10D0\u10EA\u10D8\u10D0 \u10EC\u10D0\u10D8\u10E8\u10DA\u10D4\u10D1\u10D0 \u10DB\u10DD\u10DC\u10D0\u10EA\u10D4\u10DB\u10D7\u10D0 \u10D1\u10D0\u10D6\u10D8\u10D3\u10D0\u10DC"),i()(),t(7,"div",16)(8,"button",17),D("click",function(){let e=d(o).$implicit;return m().deleteWine(),s(e.close())}),u(9,"\u10D3\u10D8\u10D0\u10EE"),i(),t(10,"button",18),D("click",function(){let e=d(o).$implicit;return s(e.close("Close click"))}),u(11,"\u10D0\u10E0\u10D0"),i()()}}var ee=(()=>{let l=class l{constructor(n,e,a){this.wineService=n,this.router=e,this.modalService=a,this.wines=[],this.searchTerm="",this.subscription=new w}ngOnInit(){this.getWines()}ngOnDestroy(){this.subscription.unsubscribe()}editWine(n){this.router.navigate(["/admin/wine/edit",n])}deleteWine(){this.wineId&&this.subscription.add(this.wineService.deleteWine(this.wineId).subscribe(()=>{this.wines=this.wines.filter(n=>n.id!==this.wineId)}))}filteredWines(){if(!this.searchTerm)return this.wines;let n=this.searchTerm.toLowerCase();return this.wines.filter(e=>e.name.toLowerCase().includes(n)||e.vintageYear.toString().includes(n))}openModal(n,e){this.modalService.open(n),this.wineId=e}getWines(){this.subscription.add(this.wineService.getWines().subscribe(n=>{this.wines=n}))}};l.\u0275fac=function(e){return new(e||l)(p($),p(V),p(j))},l.\u0275cmp=h({type:l,selectors:[["app-admin-products"]],standalone:!0,features:[A],decls:12,vars:2,consts:[["deleteModal",""],[1,"wrapper","geo-primary"],["routerLink","/admin/add-wine",1,"primary-btn"],[1,"form-group"],["type","text","placeholder","\u10EB\u10D4\u10D1\u10DC\u10D0",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-wrapper"],[1,"alert","alert-info"],[1,"table","table-striped","table-bordered","geo-secondary"],[1,"thead-dark"],[1,"eng-primary"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,a){if(e&1){let C=_();t(0,"div",1)(1,"div")(2,"a",2)(3,"span"),u(4," \u10D0\u10EE\u10D0\u10DA\u10D8 \u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8\u10E1 \u10D3\u10D0\u10DB\u10D0\u10E2\u10D4\u10D1\u10D0 "),i()(),t(5,"div",3)(6,"input",4),O("ngModelChange",function(g){return d(C),k(a.searchTerm,g)||(a.searchTerm=g),s(g)}),i()()(),t(7,"div",5),f(8,N,2,0,"div",6)(9,Y,18,0,"table",7),i()(),f(10,z,12,0,"ng-template",null,0,T)}e&2&&(c(6),y("ngModel",a.searchTerm),c(2),b(a.filteredWines().length===0?8:9))},dependencies:[W,L,B,I,F],styles:[".wrapper[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:80px 20px;min-height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px;font-size:14px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{width:100%;display:flex;gap:20px;flex-direction:column;align-items:start}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   input[_ngcontent-%COMP%]{border:1px solid black}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   input[_ngcontent-%COMP%]{width:300px}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{width:320px;margin:0 auto;text-align:center}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{width:100%}"]});let r=l;return r})();export{ee as AdminProductsComponent};
