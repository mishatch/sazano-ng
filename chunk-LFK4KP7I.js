import{a as N}from"./chunk-VOACCKSU.js";import{m as j}from"./chunk-WUZAT2ZT.js";import{a as I,c as W,e as L,o as F}from"./chunk-Q5DRH6IR.js";import{a as $}from"./chunk-4GGUQINZ.js";import{e as V,f as B}from"./chunk-DWGKUTL6.js";import"./chunk-VJDHYPGB.js";import{Bb as S,Cb as n,Db as g,Eb as y,Hb as P,Ib as k,Jb as A,Lb as O,Oa as c,Pa as p,Rb as T,_a as w,eb as h,fa as f,fb as b,gb as x,hb as v,ib as t,jb as i,kb as M,lb as E,qa as d,ra as s,sb as m,tb as _}from"./chunk-PT4IFWSI.js";function R(a,l){if(a&1){let o=E();t(0,"tr",8)(1,"td"),n(2),i(),t(3,"td"),n(4),i(),t(5,"td"),n(6),i(),t(7,"td"),n(8),i(),t(9,"td")(10,"button",9),m("click",function(){let e=d(o).$implicit,r=_();return s(r.editWine(e==null?null:e.id))}),n(11,"Edit"),i()(),t(12,"td")(13,"button",10),m("click",function(){let e=d(o).$implicit,r=_(),D=S(27);return s(r.openModal(D,e==null?null:e.id))}),n(14,"Delete"),i()()()}if(a&2){let o=l.$implicit;c(2),g(o.name),c(2),g(o.vintageYear),c(2),y("",o.price," \u20BE"),c(2),g(o.stockQuantity)}}function z(a,l){if(a&1){let o=E();t(0,"div",11)(1,"h4",12),n(2,"\u10D3\u10D0\u10E0\u10EC\u10DB\u10E3\u10DC\u10D4\u10D1\u10E3\u10DA\u10D8 \u10EE\u10D0\u10E0\u10D7 \u10E0\u10DD\u10DB \u10D2\u10E1\u10E3\u10E0\u10D7 \u10E6\u10D5\u10D8\u10DC\u10D8\u10E1 \u10EC\u10D0\u10E8\u10DA\u10D0?"),i(),t(3,"button",13),m("click",function(){let e=d(o).$implicit;return s(e.dismiss("Cross click"))}),i()(),t(4,"div",14)(5,"p"),n(6,"\u10E6\u10D5\u10D8\u10DC\u10D8\u10E1 \u10D8\u10DC\u10E4\u10DD\u10E0\u10DB\u10D0\u10EA\u10D8\u10D0 \u10EC\u10D0\u10D8\u10E8\u10DA\u10D4\u10D1\u10D0 \u10DB\u10DD\u10DC\u10D0\u10EA\u10D4\u10DB\u10D7\u10D0 \u10D1\u10D0\u10D6\u10D8\u10D3\u10D0\u10DC"),i()(),t(7,"div",15)(8,"button",16),m("click",function(){let e=d(o).$implicit;return _().deleteWine(),s(e.close())}),n(9,"\u10D3\u10D8\u10D0\u10EE"),i(),t(10,"button",17),m("click",function(){let e=d(o).$implicit;return s(e.close("Close click"))}),n(11,"\u10D0\u10E0\u10D0"),i()()}}function Q(a,l){a&1&&M(0,"app-loading")}var ee=(()=>{let l=class l{constructor(u,e,r){this.wineService=u,this.router=e,this.modalService=r,this.wines=[],this.isLoading=!0,this.searchTerm="",this.wineService.getWines().subscribe(D=>{this.isLoading=!1,this.wines=D})}editWine(u){this.router.navigate(["/admin/wine/edit",u])}deleteWine(){this.wineId&&(this.isLoading=!0,this.wineService.deleteWine(this.wineId).subscribe(()=>{this.wines=this.wines.filter(u=>u.id!==this.wineId),this.isLoading=!1}))}filteredWines(){if(!this.searchTerm)return this.wines;let u=this.searchTerm.toLowerCase();return this.wines.filter(e=>e.name.toLowerCase().includes(u))}openModal(u,e){this.modalService.open(u),this.wineId=e}};l.\u0275fac=function(e){return new(e||l)(p(N),p(V),p(j))},l.\u0275cmp=f({type:l,selectors:[["app-admin-products"]],standalone:!0,features:[O],decls:29,vars:2,consts:[["content",""],[1,"wrapper","geo-primary"],["routerLink","/admin/add-wine",1,"primary-btn"],[1,"form-group"],["type","text","placeholder","\u10EB\u10D4\u10D1\u10DC\u10D0",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-wrapper"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[1,"eng-primary"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,r){if(e&1){let D=E();t(0,"div",1)(1,"div")(2,"a",2)(3,"span"),n(4," \u10D0\u10EE\u10D0\u10DA\u10D8 \u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8\u10E1 \u10D3\u10D0\u10DB\u10D0\u10E2\u10D4\u10D1\u10D0 "),i()(),t(5,"div",3)(6,"input",4),A("ngModelChange",function(C){return d(D),k(r.searchTerm,C)||(r.searchTerm=C),s(C)}),i()()(),t(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th"),n(12,"\u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8\u10E1 \u10E1\u10D0\u10EE\u10D4\u10DA\u10DD\u10D3\u10D4\u10D1\u10D0"),i(),t(13,"th"),n(14,"\u10EC\u10D0\u10E0\u10DB\u10DD\u10D4\u10D1\u10D8\u10E1 \u10EC\u10D4\u10DA\u10D8"),i(),t(15,"th"),n(16,"\u10E4\u10D0\u10E1\u10D8"),i(),t(17,"th"),n(18,"\u10E0\u10D0\u10DD\u10D3\u10D4\u10DC\u10DD\u10D1\u10D0 \u10DB\u10D0\u10E0\u10D0\u10D2\u10E8\u10D8"),i(),t(19,"th"),n(20,"\u10E9\u10D0\u10E1\u10EC\u10DD\u10E0\u10D4\u10D1\u10D0"),i(),t(21,"th"),n(22,"\u10EC\u10D0\u10E8\u10DA\u10D0"),i()()(),t(23,"tbody"),x(24,R,15,4,"tr",8,b),i()()()(),w(26,z,12,0,"ng-template",null,0,T)(28,Q,1,0,"app-loading")}e&2&&(c(6),P("ngModel",r.searchTerm),c(18),v(r.filteredWines()),c(4),h(r.isLoading?28:-1))},dependencies:[B,F,I,W,L,$],styles:[".wrapper[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:80px 20px;min-height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px;font-size:14px}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{width:100%;display:flex;gap:20px;flex-direction:column;align-items:start}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   input[_ngcontent-%COMP%]{border:1px solid black}.wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type   input[_ngcontent-%COMP%]{width:300px}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.wrapper[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{width:100%}"]});let a=l;return a})();export{ee as AdminProductsComponent};
