import{a as k}from"./chunk-VNISX2JD.js";import{m as T}from"./chunk-FYZXPGWZ.js";import{a as M}from"./chunk-GZLBYBNT.js";import"./chunk-SA34UV6Y.js";import"./chunk-SHF2QPEZ.js";import{m as I}from"./chunk-Y6STU5OE.js";import{c as A,d as B}from"./chunk-AKL4WKOJ.js";import{Db as n,Eb as p,Fb as x,Mb as P,Oa as a,Pa as g,Pb as l,Qb as c,Rb as y,_a as h,e as S,eb as v,fa as f,fb as O,gb as C,hb as b,ib as e,jb as i,lb as w,qa as D,ra as E,sb as _,tb as m}from"./chunk-FZWOQZIM.js";function V(r,o){r&1&&(e(0,"div",1),n(1,"\u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1"),i())}function $(r,o){if(r&1){let d=w();e(0,"tr")(1,"td",4),n(2),l(3,"date"),i(),e(4,"td",5),n(5," \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1 \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 "),i(),e(6,"td",4),n(7),i(),e(8,"td")(9,"button",6),_("click",function(){let t=D(d).$implicit,s=m(2);return E(s.viewOrderDetails(t))}),e(10,"span"),n(11),l(12,"translate"),i()()(),e(13,"td")(14,"button",6),_("click",function(){let t=D(d).$implicit,s=m(2);return E(s.changeOrderStatus(t.id))}),e(15,"span"),n(16," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D0\u10D3 \u10DB\u10DD\u10DC\u10D8\u10E8\u10D5\u10DC\u10D0 "),i()()()()}if(r&2){let d=o.$implicit;a(2),p(y(3,3,d.orderDate,"M/d/yy")),a(5),x(" ",d.orderPrice," \u20BE "),a(4),x(" ",c(12,6,"orders.order-details")," ")}}function j(r,o){if(r&1&&(e(0,"h5"),n(1," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 "),i(),e(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),n(6),l(7,"translate"),i(),e(8,"th",3),n(9),l(10,"translate"),i(),e(11,"th",3),n(12),l(13,"translate"),i(),e(14,"th",3),n(15),l(16,"translate"),i(),e(17,"th",3),n(18,"\u10E1\u10E2\u10D0\u10E2\u10E3\u10E1\u10D8\u10E1 \u10E8\u10D4\u10EA\u10D5\u10DA\u10D0"),i()()(),e(19,"tbody"),C(20,$,17,8,"tr",null,O),i()()),r&2){let d=m();a(6),p(c(7,4,"orders.order-date")),a(3),p(c(10,6,"orders.order-status")),a(3),p(c(13,8,"orders.order-total")),a(3),p(c(16,10,"orders.order-details")),a(5),b(d.pendingOrders)}}var L=(()=>{let o=class o{constructor(u,t){this.orderService=u,this.modalService=t,this.pendingOrders=[],this.subscription=new S}ngOnInit(){this.getPendingOrders()}ngOnDestroy(){this.subscription.unsubscribe()}viewOrderDetails(u){let t=this.modalService.open(k,{centered:!0});t.componentInstance.order=u}changeOrderStatus(u){let s={status:"Sent"};this.subscription.add(this.orderService.updateOrderStatus(u,s).subscribe(()=>{this.getPendingOrders()},F=>{console.log("Error updating order status",F)}))}getPendingOrders(){this.subscription.add(this.orderService.orders$.subscribe(u=>{this.pendingOrders=u.filter(t=>t.status==="Pending")}))}};o.\u0275fac=function(t){return new(t||o)(g(M),g(T))},o.\u0275cmp=f({type:o,selectors:[["app-pending-orders"]],standalone:!0,features:[P],decls:3,vars:1,consts:[[1,"wrapper","geo-secondary"],[1,"alert","alert-info"],[1,"table","table-striped"],["scope","col"],[1,"align-middle"],[1,"align-middle","text-danger"],[1,"primary-btn",3,"click"]],template:function(t,s){t&1&&(e(0,"div",0),h(1,V,2,0,"div",1)(2,j,22,12),i()),t&2&&(a(),v(s.pendingOrders.length===0?1:2))},dependencies:[B,A,I],styles:[".wrapper[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{width:320px;margin:0 auto;text-align:center}"]});let r=o;return r})();export{L as PendingOrdersComponent};
