import{a as P}from"./chunk-VNISX2JD.js";import{m as M}from"./chunk-FYZXPGWZ.js";import{a as k}from"./chunk-GZLBYBNT.js";import"./chunk-SA34UV6Y.js";import"./chunk-SHF2QPEZ.js";import{m as A}from"./chunk-Y6STU5OE.js";import{c as B,d as T}from"./chunk-AKL4WKOJ.js";import{Db as r,Eb as p,Fb as S,Mb as y,Oa as u,Pa as _,Pb as l,Qb as c,Rb as I,_a as h,e as f,eb as v,fa as C,fb as O,gb as g,hb as b,ib as e,jb as i,lb as w,qa as D,ra as E,sb as x,tb as m}from"./chunk-FZWOQZIM.js";function V(n,a){n&1&&(e(0,"div",1),r(1,"\u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1"),i())}function $(n,a){if(n&1){let d=w();e(0,"tr")(1,"td",4),r(2),l(3,"date"),i(),e(4,"td",5),r(5," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 "),i(),e(6,"td",4),r(7),i(),e(8,"td")(9,"button",6),x("click",function(){let t=D(d).$implicit,s=m(2);return E(s.viewOrderDetails(t))}),e(10,"span"),r(11),l(12,"translate"),i()()(),e(13,"td")(14,"button",6),x("click",function(){let t=D(d).$implicit,s=m(2);return E(s.changeOrderStatus(t.id))}),e(15,"span"),r(16," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10DA\u10D0\u10D3 \u10DB\u10DD\u10DC\u10D8\u10E8\u10D5\u10DC\u10D0 "),i()()()()}if(n&2){let d=a.$implicit;u(2),p(I(3,3,d.orderDate,"M/d/yy")),u(5),S(" ",d.orderPrice," \u20BE "),u(4),S(" ",c(12,6,"orders.order-details")," ")}}function j(n,a){if(n&1&&(e(0,"h5"),r(1," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 "),i(),e(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),r(6),l(7,"translate"),i(),e(8,"th",3),r(9),l(10,"translate"),i(),e(11,"th",3),r(12),l(13,"translate"),i(),e(14,"th",3),r(15),l(16,"translate"),i(),e(17,"th",3),r(18,"\u10E1\u10E2\u10D0\u10E2\u10E3\u10E1\u10D8\u10E1 \u10E8\u10D4\u10EA\u10D5\u10DA\u10D0"),i()()(),e(19,"tbody"),g(20,$,17,8,"tr",null,O),i()()),n&2){let d=m();u(6),p(c(7,4,"orders.order-date")),u(3),p(c(10,6,"orders.order-status")),u(3),p(c(13,8,"orders.order-total")),u(3),p(c(16,10,"orders.order-details")),u(5),b(d.completedOrders)}}var L=(()=>{let a=class a{constructor(o,t){this.orderService=o,this.modalService=t,this.completedOrders=[],this.subscription=new f}ngOnInit(){this.getSentOrders()}ngOnDestroy(){this.subscription.unsubscribe()}viewOrderDetails(o){let t=this.modalService.open(P,{centered:!0});t.componentInstance.order=o}changeOrderStatus(o){let s={status:"Pending"};this.subscription.add(this.orderService.updateOrderStatus(o,s).subscribe(()=>{this.getSentOrders()},F=>{console.log("Error updating order status:",F)}))}getSentOrders(){this.subscription.add(this.orderService.orders$.subscribe(o=>{this.completedOrders=o.filter(t=>t.status==="Sent")}))}};a.\u0275fac=function(t){return new(t||a)(_(k),_(M))},a.\u0275cmp=C({type:a,selectors:[["app-completed-orders"]],standalone:!0,features:[y],decls:3,vars:1,consts:[[1,"wrapper","geo-secondary"],[1,"alert","alert-info"],[1,"table","table-striped"],["scope","col"],[1,"align-middle"],[1,"align-middle","text-success"],[1,"primary-btn",3,"click"]],template:function(t,s){t&1&&(e(0,"div",0),h(1,V,2,0,"div",1)(2,j,22,12),i()),t&2&&(u(),v(s.completedOrders.length===0?1:2))},dependencies:[A,T,B],styles:[".wrapper[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{width:320px;margin:0 auto;text-align:center}"]});let n=a;return n})();export{L as CompletedOrdersComponent};
