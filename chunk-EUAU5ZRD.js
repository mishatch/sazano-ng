import{a as M}from"./chunk-4WFZDXZW.js";import{m as k}from"./chunk-WUZAT2ZT.js";import{a as F}from"./chunk-AMA53F6H.js";import"./chunk-Q5DRH6IR.js";import{a as L}from"./chunk-4GGUQINZ.js";import{l as A}from"./chunk-VJDHYPGB.js";import{c as T,d as B}from"./chunk-2AIMIJSB.js";import{Cb as r,Db as p,Eb as h,Lb as I,Oa as d,Ob as l,Pa as g,Pb as c,Qb as y,_a as _,e as S,eb as f,fa as v,fb as C,gb as b,hb as O,ib as t,jb as i,kb as P,lb as w,qa as D,ra as E,sb as x,tb as m}from"./chunk-PT4IFWSI.js";function $(n,o){n&1&&r(0," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1 ")}function j(n,o){if(n&1){let s=w();t(0,"tr")(1,"td",3),r(2),l(3,"date"),i(),t(4,"td",4),r(5," \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1 \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 "),i(),t(6,"td",3),r(7),i(),t(8,"td")(9,"button",5),x("click",function(){let e=D(s).$implicit,u=m(2);return E(u.viewOrderDetails(e))}),t(10,"span"),r(11),l(12,"translate"),i()()(),t(13,"td")(14,"button",5),x("click",function(){let e=D(s).$implicit,u=m(2);return E(u.changeOrderStatus(e.id))}),t(15,"span"),r(16," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D0\u10D3 \u10DB\u10DD\u10DC\u10D8\u10E8\u10D5\u10DC\u10D0 "),i()()()()}if(n&2){let s=o.$implicit;d(2),p(y(3,3,s.orderDate,"M/d/yy")),d(5),h(" ",s.orderPrice," \u20BE "),d(4),h(" ",c(12,6,"orders.order-details")," ")}}function N(n,o){if(n&1&&(t(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),r(4),l(5,"translate"),i(),t(6,"th",2),r(7),l(8,"translate"),i(),t(9,"th",2),r(10),l(11,"translate"),i(),t(12,"th",2),r(13),l(14,"translate"),i(),t(15,"th",2),r(16,"\u10E1\u10E2\u10D0\u10E2\u10E3\u10E1\u10D8\u10E1 \u10E8\u10D4\u10EA\u10D5\u10DA\u10D0"),i()()(),t(17,"tbody"),b(18,j,17,8,"tr",null,C),i()()),n&2){let s=m();d(4),p(c(5,4,"orders.order-date")),d(3),p(c(8,6,"orders.order-status")),d(3),p(c(11,8,"orders.order-total")),d(3),p(c(14,10,"orders.order-details")),d(5),O(s.pendingOrders)}}function R(n,o){n&1&&P(0,"app-loading")}var X=(()=>{let o=class o{constructor(a,e){this.orderService=a,this.modalService=e,this.pendingOrders=[],this.isLoading=!1,this.subscription=new S}ngOnInit(){this.getPendingOrders()}ngOnDestroy(){this.subscription.unsubscribe()}viewOrderDetails(a){let e=this.modalService.open(M,{centered:!0});e.componentInstance.order=a}changeOrderStatus(a){let u={status:"Sent"};this.isLoading=!0,this.subscription.add(this.orderService.updateOrderStatus(a,u).subscribe(()=>{this.getPendingOrders(),this.isLoading=!1},V=>{console.log("Error updating order status:",V),this.isLoading=!1}))}getPendingOrders(){this.subscription.add(this.orderService.orders$.subscribe(a=>{this.pendingOrders=a.filter(e=>e.status==="Pending")}))}};o.\u0275fac=function(e){return new(e||o)(g(F),g(k))},o.\u0275cmp=v({type:o,selectors:[["app-pending-orders"]],standalone:!0,features:[I],decls:6,vars:2,consts:[[1,"wrapper"],[1,"table","table-striped"],["scope","col"],[1,"align-middle"],[1,"align-middle","text-danger"],[1,"primary-btn",3,"click"]],template:function(e,u){e&1&&(t(0,"div",0)(1,"h5"),r(2," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 "),i(),_(3,$,1,0)(4,N,20,12,"table",1),i(),_(5,R,1,0,"app-loading")),e&2&&(d(3),f(u.pendingOrders.length===0?3:4),d(2),f(u.isLoading?5:-1))},dependencies:[B,T,A,L]});let n=o;return n})();export{X as PendingOrdersComponent};
