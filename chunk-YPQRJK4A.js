import{a as m}from"./chunk-OKL6TN3N.js";import{t as l}from"./chunk-WH2QT74X.js";import{V as n,Z as a,ca as i,k as s}from"./chunk-MOSC54PF.js";var g=(()=>{let e=class e{constructor(t,o){this.http=t,this.loadingService=o,this.apiUrl="https://sazanowine-api-dev.azurewebsites.net/api/identity",this.userInfoSource=new s(null),this.userInfo$=this.userInfoSource.asObservable()}updateUserInfo(t){return this.loadingService.show(),this.http.patch(`${this.apiUrl}/updateUser`,t).pipe(n({next:()=>this.loadingService.hide(),error:()=>this.loadingService.hide()}))}setUserInfo(t){this.userInfoSource.next(t)}clearUserInfo(){this.userInfoSource.next(null)}};e.\u0275fac=function(o){return new(o||e)(i(l),i(m))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var S=(()=>{let e=class e{getUserData(){return!localStorage.getItem("userName")||!localStorage.getItem("userSurname")||!localStorage.getItem("userPhone")||!localStorage.getItem("userEmail")?null:{userName:localStorage.getItem("userName"),userSurname:localStorage.getItem("userSurname"),userPhone:localStorage.getItem("userPhone"),userEmail:localStorage.getItem("userEmail")}}setUserData(t){localStorage.setItem("userName",t.name),localStorage.setItem("userSurname",t.surName),localStorage.setItem("userPhone",t.phoneNumber),localStorage.setItem("userEmail",t.email)}clearUserData(){localStorage.removeItem("userName"),localStorage.removeItem("userSurname"),localStorage.removeItem("userPhone"),localStorage.removeItem("userEmail")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();export{g as a,S as b};
