import{a as F}from"./chunk-JB73DGYS.js";import{m as T}from"./chunk-RFT7N3MN.js";import{a as k}from"./chunk-QIJAE5W3.js";import"./chunk-LSYD3J5U.js";import"./chunk-OKL6TN3N.js";import{m as y}from"./chunk-WH2QT74X.js";import{c as A,d as B}from"./chunk-CKQWD7NW.js";import{Cb as n,Db as p,Eb as g,Lb as I,Oa as d,Ob as l,Pa as _,Pb as c,Qb as P,_a as h,e as S,eb as v,fa as f,fb as b,gb as O,hb as C,ib as t,jb as i,lb as w,qa as m,ra as E,sb as x,tb as D}from"./chunk-MOSC54PF.js";function V(r,o){r&1&&n(0," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1 ")}function $(r,o){if(r&1){let a=w();t(0,"tr")(1,"td",3),n(2),l(3,"date"),i(),t(4,"td",4),n(5," \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1 \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 "),i(),t(6,"td",3),n(7),i(),t(8,"td")(9,"button",5),x("click",function(){let e=m(a).$implicit,s=D(2);return E(s.viewOrderDetails(e))}),t(10,"span"),n(11),l(12,"translate"),i()()(),t(13,"td")(14,"button",5),x("click",function(){let e=m(a).$implicit,s=D(2);return E(s.changeOrderStatus(e.id))}),t(15,"span"),n(16," \u10E8\u10D4\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10E3\u10DA\u10D0\u10D3 \u10DB\u10DD\u10DC\u10D8\u10E8\u10D5\u10DC\u10D0 "),i()()()()}if(r&2){let a=o.$implicit;d(2),p(P(3,3,a.orderDate,"M/d/yy")),d(5),g(" ",a.orderPrice," \u20BE "),d(4),g(" ",c(12,6,"orders.order-details")," ")}}function j(r,o){if(r&1&&(t(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),n(4),l(5,"translate"),i(),t(6,"th",2),n(7),l(8,"translate"),i(),t(9,"th",2),n(10),l(11,"translate"),i(),t(12,"th",2),n(13),l(14,"translate"),i(),t(15,"th",2),n(16,"\u10E1\u10E2\u10D0\u10E2\u10E3\u10E1\u10D8\u10E1 \u10E8\u10D4\u10EA\u10D5\u10DA\u10D0"),i()()(),t(17,"tbody"),O(18,$,17,8,"tr",null,b),i()()),r&2){let a=D();d(4),p(c(5,4,"orders.order-date")),d(3),p(c(8,6,"orders.order-status")),d(3),p(c(11,8,"orders.order-total")),d(3),p(c(14,10,"orders.order-details")),d(5),C(a.pendingOrders)}}var L=(()=>{let o=class o{constructor(u,e){this.orderService=u,this.modalService=e,this.pendingOrders=[],this.subscription=new S}ngOnInit(){this.getPendingOrders()}ngOnDestroy(){this.subscription.unsubscribe()}viewOrderDetails(u){let e=this.modalService.open(F,{centered:!0});e.componentInstance.order=u}changeOrderStatus(u){let s={status:"Sent"};this.subscription.add(this.orderService.updateOrderStatus(u,s).subscribe(()=>{this.getPendingOrders()},M=>{console.log("Error updating order status",M)}))}getPendingOrders(){this.subscription.add(this.orderService.orders$.subscribe(u=>{this.pendingOrders=u.filter(e=>e.status==="Pending")}))}};o.\u0275fac=function(e){return new(e||o)(_(k),_(T))},o.\u0275cmp=f({type:o,selectors:[["app-pending-orders"]],standalone:!0,features:[I],decls:5,vars:1,consts:[[1,"wrapper"],[1,"table","table-striped"],["scope","col"],[1,"align-middle"],[1,"align-middle","text-danger"],[1,"primary-btn",3,"click"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"h5"),n(2," \u10E8\u10D4\u10E1\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D4\u10DA\u10D8 \u10E8\u10D4\u10D9\u10D5\u10D4\u10D7\u10D4\u10D1\u10D8 "),i(),h(3,V,1,0)(4,j,20,12,"table",1),i()),e&2&&(d(3),v(s.pendingOrders.length===0?3:4))},dependencies:[B,A,y]});let r=o;return r})();export{L as PendingOrdersComponent};
